var monthCalendarGen=function(e,t){var d,a=/^[0-9]{1,2}$/,n=/^[0-9]{4}$/;d=void 0!==e&&void 0!==t&&n.test(e)&&a.test(t)?new Date(e,t):new Date;var r=new Date,l=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=d.getMonth(),o=d.getFullYear(),i=new Date(d.getFullYear(),d.getMonth(),1),c=new Date(d.getFullYear(),d.getMonth()+1,0),v=new Date(d.getFullYear(),d.getMonth(),1-i.getDay()),h=new Date(d.getFullYear(),d.getMonth()+1,13-c.getDay()),u=function(){for(var e=[],t=6,a=0;t>a;a++){for(var n=[],d=new Date(v.getFullYear(),v.getMonth(),v.getDate()+7*a),r=0;7>r;r++){var l=new Date(d.getFullYear(),d.getMonth(),d.getDate()+r);n.push(l)}e.push(n)}return e},m=function(e,t){t(e)},p=function(e,t){void 0===t&&(t={});var a={months:t.months||["January","February","March","April","May","June","July","August","September","October","November","December"],weekDays:t.weekDays||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],sendDateTo:t.sendDateTo,table:t.table||!1},n=u(d),r=document.createElement(a.table?"table":"div");r.classList.add("month");var i=document.createElement(a.table?"thead":"div");i.classList.add("month-head");var c=document.createElement(a.table?"tbody":"div");if(c.classList.add("month-body"),a.table){var v=document.createElement(a.table?"tr":"div");v.classList.add("month-head-line"),i.appendChild(v)}var h=document.createElement(a.table?"th":"div");h.classList.add("month-title"),a.table&&(h.colSpan="7");var p=document.createTextNode(o+" "+a.months[s]);h.appendChild(p),a.table?v.appendChild(h):i.appendChild(h);var D=document.createElement(a.table?"tr":"div");D.classList.add("weekdays"),i.appendChild(D);for(var g=0;g<a.weekDays.length;g++){var f=document.createElement(a.table?"th":"div");f.classList.add("weekday");var y=document.createTextNode(a.weekDays[g]);f.appendChild(y),D.appendChild(f)}r.appendChild(i),r.appendChild(c),e.appendChild(r);for(var b=0;b<n.length;b++){v=document.createElement(a.table?"tr":"div"),v.classList.add("week");for(var w=0;w<n[b].length;w++){var C=document.createElement(a.table?"td":"div");n[b][w].getMonth()<s?C.classList.add("last-month"):n[b][w].getMonth()>s?C.classList.add("next-month"):Date.parse(n[b][w])==Date.parse(l)&&C.classList.add("today"),C.classList.add("day");var M=document.createTextNode(n[b][w].getDate());C.dataset.date=Date.parse(n[b][w]),a.sendDateTo&&(C.onclick=function(){for(var e=document.getElementsByClassName("active-day"),t=0;t<e.length;t++)e[t].classList.remove("active-day");this.classList.add("active-day"),m(this.dataset.date,a.sendDateTo)}),C.appendChild(M),v.appendChild(C)}c.appendChild(v)}};return{month:s,year:o,today:l,now:r,firstMonthDay:i,lastMonthDay:c,firstCalendarDay:v,lastCalendarDay:h,run:function(){return u()},constructSheet:function(e,t){p(e,t)}}};